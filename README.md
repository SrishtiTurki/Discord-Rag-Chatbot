# 🌟 Discord RAG Chatbot with Gemini LLM

A **Retrieval-Augmented Generation (RAG) Discord chatbot** that allows users to upload PDFs and ask questions. The bot retrieves relevant content from the PDF using **embeddings and FAISS**, then generates answers with **Google Gemini LLM**.

---

## 🪴 Features

* Upload PDF files directly through Discord.
* Automatic chunking and embedding of PDF content.
* Retrieval of relevant PDF sections for any question.
* Answers generated by **Google Gemini LLM** using contextual PDF data.
* Works in **Colab** for local testing and development.
* Commands to check bot status and latency.

---

## ⚡ Commands

| Command           | Description                                        |
| ----------------- | -------------------------------------------------- |
| `!loadpdf`        | Upload a PDF as an attachment to embed it for Q&A. |
| `!ask <question>` | Ask a question based on the loaded PDF.            |
| `!status`         | Check if a PDF is loaded and ready for questions.  |
| `!ping`           | Check the bot's latency.                           |

---

## 🛠️ Tech Stack

* **Python 3.12**
* **Discord.py** – Discord bot framework
* **Google Generative AI (Gemini)** – LLM for answer generation
* **PyPDF2** – PDF reading
* **Sentence-Transformers** – Text embeddings
* **FAISS** – Similarity search for RAG
* **Google Colab** – Optional for local testing & PDF uploads

---

## Requiremnets
* **discord.py==2.3.2**
* **google-generativeai==0.1.7**
* **faiss-cpu==1.7.4**
* **PyPDF2==3.0.1**
* **sentence-transformers==2.2.2**
* **numpy==1.26.5**


## 📦 Installation

1. Clone the repo:

```bash
git clone https://github.com/<your-username>/discord-rag-bot.git
cd discord-rag-bot
```

2. Install dependencies:

```bash
pip install -r requirements.txt
```

**Or in Colab:**

```python
!pip install discord.py google-generativeai faiss-cpu PyPDF2 sentence-transformers
```

3. Set your API keys:

```python
DISCORD_BOT_TOKEN = "<your-discord-bot-token>"
GEMINI_API_KEY = "<your-gemini-api-key>"
```

---

## 📄 Usage

1. **Start the bot:**

```bash
python discord_rag_chatbot.py
```

2. **Upload a PDF** (via Discord attachment or in Colab before starting bot):

```bash
!loadpdf
```

3. **Ask questions** about the PDF:

```bash
!ask What is the main topic of chapter 2?
```

4. **Check status or ping:**

```bash
!status
!ping
```

---

## 🧩 How it Works

1. **PDF Processing:**

   * PDF is read and split into chunks (~500 chars each).
   * Each chunk is converted into embeddings using `SentenceTransformer`.
   * FAISS index is created for similarity search.

2. **RAG Retrieval:**

   * User query is embedded and compared with PDF chunks.
   * Top-k similar chunks are retrieved for context.

3. **LLM Answer Generation:**

   * Retrieved context + query is sent to **Gemini LLM**.
   * LLM generates an answer using the context.

4. **Response:**

   * Answer is sent back to Discord.
   * Split into multiple messages if >2000 characters.

---

## 📁 Project Structure

```
discord-rag-bot/
│
├─ discord_rag_chatbot.py              # Main bot code
├─ requirements.txt       # Python dependencies
├─ README.md
└─ examples/
   └─ sample.pdf          # Example PDF for testing
```

---

## ⚠️ Notes

* PDF must be uploaded as an **attachment in Discord** or via **Colab file upload**.
* Ensure **Google Gemini API** key is valid and has access to the chosen model.
* Works best with **PDFs containing text**, not scanned images.

---


Do you want me to do that version too?
